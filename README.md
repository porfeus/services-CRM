# services-manager
Проект на php "База сервисов"

Описание проекта


Панель администратора и панель пользователя раздельные
например:
Вход администратора http://example.com/admin/adminpanel
Вход пользователя http://example.com/user/userpanel
Возможность прикрепить логотип или любую картинку над блоком входа в панель Пользователя и Администратора.
Возможность поставить фоновую картинку на страницу входа Пользователей и Администратора.

---------------------------------

Панель управления администратора, вход по логину и паролю, которые задаются и меняются через файл "config".
Файл "config" обязательно должен находится отдельно в папке "config" с запретом через .htaccess для просмотра. 

Мультиязычность, только для панели ПОЛЬЗОВАТЕЛЯ. (а так же все примечания, ошибки, сообщения на e-mail и.т.д)
Языковые файлы например: ru, en, de, и.т.д (создаю в дальнейшем сам) находятся в папке "language" 
и при создании и добавлении нового языкового файла, новый язык появлялся в панели управления пользователя. 
Выбор языка в виде выпадающей вкладки и отображения флагов картинками (картинки флагов я предоставлю)


-Создание "Тип Услуги".

Создавать можно услуги в форматах |txt, zip, rar, page| - создаются форматы каждый на своей странице.
Например в меню выбираю Создать услугу "txt" и далее заполняю поля:
|Название услуги| |ID услуги - заполняю на латинице | Загрузить файл | - кнопка "Сохранить".
Сохранение например для txt, происходит в паку "/file/txt/text1" 
аналогичное сохранение zip и rar,
"/file/zip/zip1" 
"/file/rar/rar1"
"page" - создаётся аналогично только вместо загрузить файл, название алиса... или как-то ещё? 
"page" Формат создания страницы с расширением php, куда я могу добавлять html разметку, текст и любой программный код. 
В "page" 4 поля, 
В 1-м указываю алиас на латинице который будет выводится в браузере, домен подхватывается автоматически 
и получается что-то на подобии полноценной страницы, которую может посетить пользователь.
Во 2-м Заголовок
В 3-м тоже далее какого ни будь пояснения. (если не заполнено то ничего и нет).
В 4-м поле для текста, кода, разметки.
Возможность редактирования или удаления записей. 
Создание "Типов Услуг" неограниченно.

После создания Услуги, она появляется на странице создания Аккаунтов (единичного и генерации), в чекбоксе с названием ID, 
а при наведении появляется "hint" из "Название услуги". 

"Название услуги", отображается как Hint и будет появляться при наведении на него мышкой. 
ID услуги - создаётся и появляется в виде чекбоксов с названием и выглядит как - Чекбокс и Название тарифа из ID. 

При создании аккаунта возможность объединять "Тип услуг", выбирая несколько чекбоксов, из разных форматов, тогда у пользователя в панели  
после активации такого аккаунта будут отображаться выбранные тарифы при создании услуги. Если например выбираются услуги txt и zip то в  
панели у пользователя должны появляется 2 разделённых варианта, так как напомню, что если выбран "zip" или "rar" то ссылки "Отрыть файл"  
быть не должно, а только скачать. В "page" наверное будет надпись "Перейти". 

Создание Аккаунтов для имеющихся созданных "Типов Услуг". 

Аккаунты временного действия и после истечения времени приостанавливаются на 5 дней.
Для пользователя при входе в л/к, выдаётся информация, "Действие аккаунта приостановлено в связи с истечением времени", 
Вы можете продлить услугу купив код продления".
Если же пользователь не продлит аккаунт (кодом продления) то через 5 дней он полностью удаляется из базы.
(это сообщение отображается только в том случае когда услуга формата "txt и page"
так как там где архивы, zip и rar, время будет небольшим, 20-40 минут. т.е. пользователь зашёл скачал и всё, аккаунт перестаёт работать, 
но так как по умолчанию они преостанавливаются и удаляются только через 5 дней, то нужно, что бы он не висел и пользователь в такой  
краткосрочный аккаунт не мог уже зайти по истечении отведённого времени. 

Создавать можно как единичный Аккаунт, так и автоматически генерировать указанное количество.
Ссылки на создание аккаунтов - "Генерация Аккаунтов" при клике на эту надпись админ попадает 
на страницу массовой гернеации с надписью "Массовая генерация пользовательских аккаунтов".

При массовой генерации используются 2 шаблона ID+RANDOM и ID+LOGIN. 
Созданный аккаунт будет выглядеть так:
к ID добавляются случайный набор цифр и лат.алфавит нижний, верхний регистр 7 шт.
ID+RANDOM:
VIP-27Erg2F - где VIP это ID которое задаётся при создании тарифа, а остальное это генерация чисел и латинского алфавита.
ID+LOGIN:
USD-0002487 - где USD это ID которое задаётся при создании тарифа, а остальное это генерация чисел.
При выборе шаблона ID+LOGIN, генерация цифр идёт по нарастающей.
Не должно быть одинаковых аккаунтов! 
Генерация Паролей - это цифры плюс латинский алфавит нижнего и верхнего регистра 12 шт.

Выбирается шаблон 
(по умолчанию стоит ID+RANDOM, можно выбрать ID+LOGIN через выпадающую вкладку.
Указывается количество аккаунтов (вводится произвольно в поле)
Выбирается: (Тариф) время действия (по умолчанию стоит Выбрать) и при клике можно выбрать Дней или минут) 
Выбирается: Тип услуги (отмечается в чекбоксах)
Лимит пользователей
Кнопка "Сгенерировать".
Сгенерированные аккаунты, располагаются поочерёдно вниз разделённые ========= 
можно копировать или сохранять в csv файл.

На этой же странице находится и ссылка "Создать единичный аккаунт" при её клике админ попадает
на страницу для создания единичного аккаунта

При создании единичного аккаунта Админ:
Вводит Логин
Вводит Пароль
Вводит Время действия аккаунта
Выбирает Тип услуги (отмечается в чекбоксах)
Лимит пользователей
Кнопка "Сгенерировать".
Если такой акаунт уже есть в базе, выдаётся ошибка, что такой аккант уже есть.

Во всех вариантах генерации, после основных данных (Login, Pass, Tariff, должен идти текст, который может редактироваться и добавляться  
новый,на усмотрение админа. По умолчанию создаётся следующий текст:
==========
Для активации аккаунта:
1. Зайдите на страницу: http://
2. Введите логин и пароль полученный при покупке, активируйте аккаунт.

Все созданные акаунты должны делиться на Активированные и Не активированные, т.е. это можно организовать через фильтрацию 
или отдельной кнопкой. По умолчанию при переходе к пользователи, Админ видит всегда активированные аккаунты,
для просмотра неактивированных акаунтов Кнопка или через выпадающие меню, фильтр Активированные, Неактивированные.
Любой аккаунт Админ может редактировать или удалять из базы

Коды продления

Пользователь может продлить действие аккаунта, кодом продления.
Генерация кодов для продления времени на тот тип услуги, который будет выбран админом.
Страница генерации кодов. Данные в поля, вводятся в ручную админом.
Количество
Время продления (так же по аналогии с аккаунтами)
Выбирается: Тип услуги (отмечается в чекбоксах)
Пример кода, количество символов 35, цифры и алфавит верхний регистр.
DFF50-D1D6C-E6587-75212-D836C-B86CF-A4ND8
Поиск кода продления.
Любой код или группу кодов Админ может удалять.
На странице кодов продления админ видит (по умолчанию ещё не активированные коды)
| Код | Время добавления | Тип услуги | Время | Статус | Действия | 
Выбор показать: Активированные коды, Использованные коды.
Если код был использован, то в столбце "Статус" появляется красная надпись: Использован 02.07.2018 в 20:42 
Использованные коды удаляются из базы автоматически по Крон, но после того как вышло их время, т.е. если 
код был создан на 30 дней и активирован, то удаляется из системы через 30 дней после его активации.  

Кнопки для "Кодов продления"

Админ в панели может создавать кнопки для кодов продления, которые будут отображаться в панели управления пользователя.
Раздел: Создать Кнопку продления.
Так же разделить на форматы, что бы для "txt' отдельно для "page" отдельно, что бы не собиралась куча и не было путаницы.
Например: Создать Кнопку продления для "txt" или для "page".
В разделе появляются все созданные чекбоксы выбранных Услуг и поля
Количество дней 
Поле для ссылки (ссылка всегда открывается в новом окне).
Текст по умолчанию на "ru" "Продлить на" т.е. админ вводит в количество дней, например 10, ссылку, далее "Сохранить", 
в итоге появляется кнопка с надписью: Продлить на 10 дней. Которая так же отображается и в панели управления пользователя 
При создании второй кнопки, например на 20 дней, в панели пользователя она становится с правой стороны, а не вниз.


При входе администратор видит по умолчанию активированных пользователей, после 100 записей, далее пагинация. 
Фильтр где можно выбрать по: состоянию "Активированные", "Неактивированные"), Времени аккаунта, Типу услуги.
В фильтре по умолчанию, состояние "Активированные" т.е показываются активированные пользователи, а не "Все". 
В панели управления админа отображается информация об активированных пользователях:
| Статус |Логин | Пароль | IP адрес | E-mail | Тариф | Тип услуги  | Время активации | Осталось дней | Действия | 

В колонке статус или (непосредственно рядом с логином, что бы не занимать много места) отображается состояние, можно цветовыми кнопками: 
Активен - зелёная кнопка, Приостановлен - синяя, Заблокирован - красная.

В колонке Действия: (соответствующие подсказки на все иконки и подтверждение действий).
Оставить примечание об аккаунте. Изначально обычная иконка, если есть примечание иконка красная.
Администратор может продлить действие аккаунта в ручную, добавить дни.
Отправить сообщение на указанную пользователем почту. Если емаил адрес не указан, то в поле действие иконка
почты неактивна или её нет или просто серым цветом.
Администратор может заблокировать аккаунт в ручную, кнопкой стоп, тогда пользователю при попытке войти в аккаунт 
будет выдана информация, красным цветом, "Действие аккаунта заблокировано Администратором" Для выяснения причин обратитесь в службу  
поддержки"  
Администратор может удалить аккаунт из базы.


Отправка уведомлений по почте.

Оповещение о том, что заканчивается время подписки, отправляется по Cron за 5,4,3,2 дня, 
выбирается админом в панели управления.
Отправлять почту за: 5,4,3,2 дня. отмечается в чекбоксах.
Если выбран один из вариантов, остальные становятся неактивны, необходимо снять флаг, что бы установить другое значение.
Уведомить "Единоразово" или "Весь период": чекбоксы: Единоразово. / Весь период. (по аналогии с днями).
Если выбрано за 5 дней и "Весь период", то отправка идёт и последующие оставшиеся дни, один раз в день, 
вплоть до последнего дня и затем останавливается. 

Панель управления пользователя. 
  
Пользователь входит по логину и паролю, созданным Администратором.
Соглашается с условиями (эта функция опциональна и может быть отключена админом, показывать Да/Нет)
Условия чекбокс, почитать открывается на отдельной редактируемой странице,  
Можно просто что бы ссылку поставить, страницу я сам сделаю.
Капча при активации как и у админа.

Если услуга пользователя формата "txt или page", а тариф пользователя на 10 дней и более, то в панели управления появляется поле, 
куда он по желанию может ввести емаил адрес и сохранить, для дальнейшего использования расширенных функций.
Или можно это условие и функционал задавать на начальном этапе создания или генерации аккаунтов.

Админ может сделать обязателным указание емаил адреса при активации аккаунта, опционально Да/Нет.
Но так же эта функция должна появляться только в случае если Тип услуги "txt или page" и тариф 10 и более дней.
Или можно это условие и функционал задавать на начальном этапе создания или генерации аккаунтов.
 
Под полем e-mail если оно не заполнено, красная надпись:
"Если Вы хотите получать напоминание об окончании действия аккаунта, или системные уведомления, укажите ваш e-mail".

Если пользователь указывает e-mail и сохраняет, то поле с е-маил становится зелёным и надпись под полем "Системные сообщения подключены".
Пользователю отправляются уведомления:
Здравствуйте.
До окончания действия вашего аккаунта (Login) осталось (оставшиеся дни и время). Данные берутся из аккаунта пользователя.
Вы можете продлить ваш аккаунт купив для него код продления в личном кабинете.
Если аккаунт не будет продлён в течении 5 дней, он будет удалён из базы, без возможности восстановления. 
Напоминания отправляются на разных языках.

